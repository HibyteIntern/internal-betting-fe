<app-mainframe [title]="'Edit an event'">
  <form class="styled-form" (ngSubmit)="submitForm()" #eventForm="ngForm">
    <mat-form-field appearance="outline">
      <mat-label>Event Name</mat-label>
      <input
        name="eventName"
        matInput
        placeholder="{{ formData.name || 'Ex. Event Name' }}"
        [(ngModel)]="formData.name"
        required
      />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Description</mat-label>
      <textarea
        name="description"
        matInput
        placeholder="{{ formData.description || 'Ex. Event Description' }}"
        [(ngModel)]="formData.description"
        required
      ></textarea>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Event Template</mat-label>
      <mat-select
        [(ngModel)]="formData.selectedTemplate"
        name="selectedTemplate"
      >
        <mat-option
          *ngFor="let template of eventTemplates"
          [value]="template.name"
        >
          {{ template.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Starts At</mat-label>
      <input
        matInput
        [ngxMatDatetimePicker]="startsAtPicker"
        name="startsAt"
        placeholder="Select a date and time"
        [(ngModel)]="formData.startsAt"
        required
        [min]="minStartsAtDate"
      />
      <mat-datepicker-toggle
        matSuffix
        [for]="$any(startsAtPicker)"
      ></mat-datepicker-toggle>
      <ngx-mat-datetime-picker #startsAtPicker></ngx-mat-datetime-picker>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Ends At</mat-label>
      <input
        matInput
        [ngxMatDatetimePicker]="endsAtPicker"
        name="endsAt"
        placeholder="Select a date and time"
        [(ngModel)]="formData.endsAt"
        required
        [min]="formData.startsAt"
      />
      <mat-datepicker-toggle
        matSuffix
        [for]="$any(endsAtPicker)"
      ></mat-datepicker-toggle>
      <ngx-mat-datetime-picker #endsAtPicker></ngx-mat-datetime-picker>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Status</mat-label>
      <mat-select [(ngModel)]="formData.status" name="selectedStatus">
        <mat-option *ngFor="let status of statusOptions" [value]="status">
          {{ status }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <button
      mat-raised-button
      color="accent"
      type="submit"
      [disabled]="!eventForm.valid"
    >
      Submit
    </button>
  </form>
</app-mainframe>
